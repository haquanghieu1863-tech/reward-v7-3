let ctx; function ac(){ ctx=ctx||new (window.AudioContext||window.webkitAudioContext)(); return ctx }
export function playTing(enabled=true,volume=.5){ if(!enabled) return; const a=ac(),o=a.createOscillator(),g=a.createGain(); o.type='triangle'; o.frequency.value=880; g.gain.value=volume; o.connect(g).connect(a.destination); o.start(); g.gain.exponentialRampToValueAtTime(0.001,a.currentTime+.2); o.stop(a.currentTime+.22) }
export function playWoosh(enabled=true,volume=.4){ if(!enabled) return; const a=ac(),o=a.createOscillator(),g=a.createGain(); o.type='sawtooth'; o.frequency.setValueAtTime(200,a.currentTime); o.frequency.exponentialRampToValueAtTime(60,a.currentTime+.5); g.gain.value=0.0001; g.gain.exponentialRampToValueAtTime(volume,a.currentTime+.05); o.connect(g).connect(a.destination); o.start(); g.gain.exponentialRampToValueAtTime(0.0001,a.currentTime+.55); o.stop(a.currentTime+.6) }